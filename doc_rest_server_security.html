
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2018-11-04
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Server Security - HAPI FHIR</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="https://netdna.bootstrapcdn.com/bootswatch/2.3.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />


		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<script src="syntaxhighlighter/shCore.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJScript.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJava.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushBash.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushXml.js" type="text/javascript"></script>
<link rel="stylesheet" href="syntaxhighlighter/shCore.css" type="text/css"/>
<link rel="stylesheet" href="syntaxhighlighter/shThemeDefault.css" type="text/css"/>
<link rel="shortcut icon" href="http://hapifhir.io/favicon.png"/>
<link rel="stylesheet" href="hapi.css" type="text/css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
	</head>

	<body class="page-doc_rest_server_security project-hapi-fhir" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://hapifhir.io/"><span class="color-highlight">HAPI</span> FHIR</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="https://smilecdr.com/" title="Support" class="externalLink">Support</a></li>
							<li ><a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a></li>
							<li ><a href="https://github.com/jamesagnew/hapi-fhir/" title="GitHub Project"  class="externalLink"><i class="fa fa-github"></i> GitHub Project</a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i>&nbsp;Documentation&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="docindex.html" title="Documentation Index">Documentation Index</a></li>
									<li ><a href="doc_intro.html" title="Introduction">Introduction</a></li>
									<li ><a href="doc_dstu2.html" title="DSTU3 Support / HL7.org Structures">DSTU3 Support / HL7.org Structures</a></li>
									<li class="dropdown-submenu ">
										<a href="doc_fhirobjects.html" title="The Data Model">The Data Model</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_fhirobjects.html" title="Working with Resources">Working with Resources</a></li>
											<li ><a href="doc_resource_references.html" title="Resource References">Resource References</a></li>
											<li ><a href="doc_extensions.html" title="Profiles & Extensions">Profiles & Extensions</a></li>
											<li ><a href="doc_tags.html" title="Tags">Tags</a></li>
											<li ><a href="doc_validation.html" title="Validation">Validation</a></li>
											<li ><a href="doc_custom_structures.html" title="Custom Structures">Custom Structures</a></li>
											<li ><a href="doc_converter.html" title="Version Converter">Version Converter</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_client.html" title="RESTful Client">RESTful Client</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_client.html" title="Fluent/Generic Client">Fluent/Generic Client</a></li>
											<li ><a href="doc_rest_client_annotation.html" title="Annotation Client">Annotation Client</a></li>
											<li ><a href="doc_rest_client_interceptor.html" title="Interceptors (client)">Interceptors (client)</a></li>
											<li ><a href="doc_rest_client_http_config.html" title="Client Configuration">Client Configuration</a></li>
											<li ><a href="doc_rest_client_examples.html" title="Client Examples">Client Examples</a></li>
											<li ><a href="doc_rest_client_alternate_provider.html" title="JAX-RS Client & Alternate HTTP Providers">JAX-RS Client & Alternate HTTP Providers</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_server.html" title="RESTful Server">RESTful Server</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_server.html" title="Using RESTful Server">Using RESTful Server</a></li>
											<li ><a href="doc_rest_operations.html" title="RESTful Operations">RESTful Operations</a></li>
											<li ><a href="doc_narrative.html" title="Narrative Generator">Narrative Generator</a></li>
											<li ><a href="doc_rest_server_interceptor.html" title="Interceptors (server)">Interceptors (server)</a></li>
											<li class="active"><a href="" title="Security">Security</a></li>
											<li ><a href="doc_cors.html" title="CORS Support">CORS Support</a></li>
											<li ><a href="doc_server_tester.html" title="Web Testing UI">Web Testing UI</a></li>
											<li ><a href="doc_rest_server_jaxrs.html" title="JAX-RS Support">JAX-RS Support</a></li>
										</ul>
									</li>
									<li ><a href="doc_logging.html" title="Logging">Logging</a></li>
									<li ><a href="doc_rest_etag.html" title="ETags">ETags</a></li>
									<li ><a href="doc_jpa.html" title="JPA/Database Server">JPA/Database Server</a></li>
									<li ><a href="doc_android.html" title="Android Support">Android Support</a></li>
									<li class="dropdown-submenu ">
										<a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
										<ul class="dropdown-menu">
											<li ><a href="apidocs/index.html" title="Core API">Core API</a></li>
											<li ><a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a></li>
											<li ><a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a></li>
											<li ><a href="apidocs-r4/index.html" title="Model API (R4)">Model API (R4)</a></li>
											<li ><a href="apidocs-client/index.html" title="Client API">Client API</a></li>
											<li ><a href="apidocs-server/index.html" title="Server API">Server API</a></li>
											<li ><a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a></li>
										</ul>
									</li>
									<li ><a href="doc_cli.html" title="Command Line Tool (hapi-fhir-cli)">Command Line Tool (hapi-fhir-cli)</a></li>
									<li ><a href="doc_tinder.html" title="Maven Plugin (hapi-tinder-plugin)">Maven Plugin (hapi-tinder-plugin)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-support"></i>&nbsp;Get Help&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" title="How to Ask for Help (read this first!)" class="externalLink">How to Ask for Help (read this first!)</a></li>
									<li ><a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a></li>
									<li ><a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a></li>
									<li ><a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
									<li ><a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Test Server <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="http://hapi.fhir.org" title="Public Test Server" class="externalLink">Public Test Server</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<div>
			<ul class="breadcrumb">
				<li><a href="index.html" title="HAPI FHIR">HAPI FHIR</a></li>
				<li  class="divider">/</li>
			<li><a href="docindex.html" title="Documentation">Documentation</a></li>
			<li  class="divider">/</li>
				<li>Server Security</li>
				<li class="publishDate version-date pull-right">Last Published: 2018-11-04</li>
				<li class="divider pull-right">|</li>
				<li class="projectVersion version-date pull-right">Version: 3.6.0-SNAPSHOT</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<!-- The body of the document contains a number of sections --> 
<div class="section"> 
 <div class="page-header">
  <h2 id="Server_Security">Server Security</h2>
 </div> 
 <p> Security is a complex topic which goes far beyond the scope of HAPI FHIR. HAPI does provide mechanisms which can be used to implement security in your server however. </p> 
 <p> Because HAPI FHIR's REST server is based on the Servlet API, you may use any security mechanism which works in that environment. Some serlvet containers may provide security layers you can plug into. The rest of this page does not explore that method, but rather looks at HAPI FHIR hooks that can be used to implement FHIR specific security. </p> 
 <div class="section"> 
  <h3 id="Authentication_vs_Authorization">Authentication vs Authorization</h3> 
  <p> Background reading: <a class="externalLink" href="https://en.wikipedia.org/wiki/Authentication">Wikipedia - Authentication</a> </p> 
  <p> Server security is divided into two topics: </p> 
  <ul> 
   <li> <b>Authentication (AuthN):</b> Is verifying that the user is who they say they are. This is typically accomplished by testing a username/password in the request, or by checking a &quot;bearer token&quot; in the request. </li> 
   <li> <b>Authorization (AuthZ):</b> Is verifying that the user is allowed to perform the given action. For example, in a FHIR application you might use AuthN to test that the user making a request to the FHIR server is allowed to access the server, but that test might determine that the requesting user is not permitted to perform write operations and therefore block a FHIR <tt>create</tt> operation. This is AuthN and AuthZ in action. </li> 
  </ul> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Authentication_Interceptors">Authentication Interceptors</h2> 
 <p> The <a href="./doc_rest_server_interceptor.html">Server Interceptor</a> framework can provide an easy way to test for credentials. The following example shows a simple interceptor which tests for HTTP Basic Auth. </p> 
 <div class="source"> 
  <pre>public class BasicSecurityInterceptor extends InterceptorAdapter
{

   /**
    * This interceptor implements HTTP Basic Auth, which specifies that
    * a username and password are provided in a header called Authorization.
    */
   @Override
   public boolean incomingRequestPostProcessed(RequestDetails theRequestDetails, HttpServletRequest theRequest, HttpServletResponse theResponse) throws AuthenticationException {
      String authHeader = theRequest.getHeader(&quot;Authorization&quot;);
      
      // The format of the header must be:
      // Authorization: Basic [base64 of username:password]
      if (authHeader == null || authHeader.startsWith(&quot;Basic &quot;) == false) {
         throw new AuthenticationException(&quot;Missing or invalid Authorization header&quot;);
      }
      
      String base64 = authHeader.substring(&quot;Basic &quot;.length());
      String base64decoded = new String(Base64.decodeBase64(base64));
      String[] parts = base64decoded.split(&quot;\\:&quot;);
      
      String username = parts[0];
      String password = parts[1];
      
      /*
       * Here we test for a hardcoded username &amp; password. This is 
       * not typically how you would implement this in a production
       * system of course..
       */
      if (!username.equals(&quot;someuser&quot;) || !password.equals(&quot;thepassword&quot;)) {
         throw new AuthenticationException(&quot;Invalid username or password&quot;);
      }
      
      // Return true to allow the request to proceed
      return true;
   }

   
}
</pre> 
 </div> 
 <div class="section"> 
  <h3 id="HTTP_Basic_Auth">HTTP Basic Auth</h3> 
  <p> Note that if you are implementing HTTP Basic Auth, you may want to return a <tt>WWW-Authenticate</tt> header with the response. The following snippet shows how to add such a header with a custom realm: </p> 
  <div class="source"> 
   <pre>AuthenticationException ex = new AuthenticationException();
ex.addAuthenticateHeaderForRealm(&quot;myRealm&quot;);
throw ex;
</pre> 
  </div> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Authorization_Interceptor">Authorization Interceptor</h2> 
 <p> HAPI FHIR 1.5 introduced a new interceptor, the <a href="./apidocs/ca/uhn/fhir/rest/server/interceptor/auth/AuthorizationInterceptor.html">AuthorizationInterceptor</a>. </p> 
 <p> This interceptor can help with the complicated task of determining whether a user has the appropriate permission to perform a given task on a FHIR server. This is done by declaring a set of rules that can selectively allow (whitelist) and/or selectively block (blacklist) requests. </p> 
 <p class="doc_info_bubble"> AuthorizationInterceptor is a new feature in HAPI FHIR, and has not yet been heavily tested. Use with caution, and do lots of testing! We welcome feedback and suggestions on this feature. In addition, this documentation is not yet complete. More examples and details will be added soon! Please get in touch if you'd like to help test, have suggestions, etc. </p> 
 <p> The AuthorizationInterceptor works by allowing you to declare permissions based on an individual request coming in. In other words, you could have code that examines an incoming request and determines that it is being made by a Patient with ID 123. You could then declare that the requesting user has access to read and write any resource in compartment &quot;Patient/123&quot;, which corresponds to any Observation, MedicationOrder etc with a subject of &quot;<tt>Patient/123</tt>&quot;. On the other hand, another request might be detemrined to belong to an administrator user, and could be declared to be allowed to do anything. </p> 
 <p> The AuthorizationInterceptor is used by subclassing it and then registering your subclass with the <tt>RestfulServer</tt>. The following example shows a subclassed interceptor implementing some basic rules: </p> 
 <div class="source"> 
  <pre>   @SuppressWarnings(&quot;ConstantConditions&quot;)
	public class PatientAndAdminAuthorizationInterceptor extends AuthorizationInterceptor {
      
      @Override
      public List&lt;IAuthRule&gt; buildRuleList(RequestDetails theRequestDetails) {
         
         // Process authorization header - The following is a fake 
         // implementation. Obviously we'd want something more real
         // for a production scenario.
         // 
         // In this basic example we have two hardcoded bearer tokens,
         // one which is for a user that has access to one patient, and
         // another that has full access. 
         IdDt userIdPatientId = null;
         boolean userIsAdmin = false;
         String authHeader = theRequestDetails.getHeader(&quot;Authorization&quot;);
         if (&quot;Bearer dfw98h38r&quot;.equals(authHeader)) {
            // This user has access only to Patient/1 resources
            userIdPatientId = new IdDt(&quot;Patient&quot;, 1L);
         } else if (&quot;Bearer 39ff939jgg&quot;.equals(authHeader)) {
            // This user has access to everything
            userIsAdmin = true;
         } else {
            // Throw an HTTP 401
            throw new AuthenticationException(&quot;Missing or invalid Authorization header value&quot;);
         }

         // If the user is a specific patient, we create the following rule chain:
         // Allow the user to read anything in their own patient compartment
         // Allow the user to write anything in their own patient compartment
         // If a client request doesn't pass either of the above, deny it
         if (userIdPatientId != null) {
            return new RuleBuilder()
               .allow().read().allResources().inCompartment(&quot;Patient&quot;, userIdPatientId).andThen()
               .allow().write().allResources().inCompartment(&quot;Patient&quot;, userIdPatientId).andThen()
               .denyAll()
               .build();
         }
         
         // If the user is an admin, allow everything
         if (userIsAdmin) {
            return new RuleBuilder()
               .allowAll()
               .build();
         }
         
         // By default, deny everything. This should never get hit, but it's 
         // good to be defensive
         return new RuleBuilder()
            .denyAll()
            .build();
      }
   }
</pre> 
 </div> 
 <div class="section"> 
  <h3 id="Using_AuthorizationInterceptor_in_a_REST_Server">Using AuthorizationInterceptor in a REST Server</h3> 
  <p> The AuthorizationInterceptor works by examining the client request in order to determine whether &quot;write&quot; operations are legal, and looks at the response from the server in order to determine whether &quot;read&quot; operations are legal. </p> 
 </div> 
 <div class="section"> 
  <h3 id="Authorizing_Read_Operations">Authorizing Read Operations</h3> 
  <p> When authorizing a read operation, the AuthorizationInterceptor always allows client code to execute and generate a response. It then examines the response that would be returned before actually returning it to the client, and if rules do not permit that data to be shown to the client the interceptor aborts the request. </p> 
  <p> Note that there are performance implications to this mechanism, since an unauthorized user can still cause the server to fetch data even if they won't get to see it. This mechanism should be comprehensive however, since it will prevent clients from using various features in FHIR (e.g. <tt>_include</tt> or <tt>_revinclude</tt>) to &quot;trick&quot; the server into showing them date they shouldn't be allowed to see. </p> 
  <p> See the following diagram for an example of how this works. </p> 
  <img src="./images/hapi_authorizationinterceptor_read_normal.svg" alt="Write Authorization" /> 
 </div> 
 <div class="section"> 
  <h3 id="Authorizing_Write_Operations">Authorizing Write Operations</h3> 
  <p> Write operations (create, update, etc.) are typically authorized by the interceptor by examining the parsed URL and making a decision about whether to authorize the operation before allowing Resource Provider code to proceed. This means that client code will not have a chance to execute and create resources that the client does not have permissions to create. </p> 
  <p> See the following diagram for an example of how this works. </p> 
  <img src="./images/hapi_authorizationinterceptor_write_normal.svg" alt="Write Authorization" /> 
 </div> 
 <div class="section"> 
  <h3 id="Authorizing_Sub-Operations">Authorizing Sub-Operations</h3> 
  <p> There are a number of situations where the REST framework doesn't actually know exactly what operation is going to be performed by the implementing server code. For example, if your server implements a <tt>conditional update</tt> operation, the server might not know which resource is actually being updated until the server code is executed. </p> 
  <p> Because client code is actually determining which resources are being modified, the server can not automatically apply security rules against these modifications without being provided hints from client code. </p> 
  <p> In this type of situation, it is important to manually notify the interceptor chain about the &quot;sub-operation&quot; being performed. The following snippet shows how to notify interceptors about a conditional create. </p> 
  <div class="source"> 
   <pre>   @Update()
   public MethodOutcome update(
         @IdParam IdDt theId, 
         @ResourceParam Patient theResource, 
         @ConditionalUrlParam String theConditionalUrl, 
         RequestDetails theRequestDetails) {

      // If we're processing a conditional URL...
      if (isNotBlank(theConditionalUrl)) {
         
         // Pretend we've done the conditional processing. Now let's
         // notify the interceptors that an update has been performed
         // and supply the actual ID that's being updated
         IdDt actual = new IdDt(&quot;Patient&quot;, &quot;1123&quot;);
         
         // There are a number of possible constructors for ActionRequestDetails.
         // You should supply as much detail about the sub-operation as possible
         IServerInterceptor.ActionRequestDetails subRequest = 
               new IServerInterceptor.ActionRequestDetails(theRequestDetails, actual);
         
         // Notify the interceptors
         subRequest.notifyIncomingRequestPreHandled(RestOperationTypeEnum.UPDATE);
      }
      
      // In a real server, perhaps we would process the conditional 
      // request differently and follow a separate path. Either way,
      // let's pretend there is some storage code here.
      
      theResource.setId(theId.withVersion(&quot;2&quot;));
      MethodOutcome retVal = new MethodOutcome();
      retVal.setCreated(true);
      retVal.setResource(theResource);
      return retVal;
   }
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Authorizing_Patch_Operations">Authorizing Patch Operations</h3> 
  <p> The FHIR <a class="externalLink" href="http://hl7.org/fhir/http.html#patch">patch</a> operation presents a challenge for authorization, as the incoming request often contains very little detail about what is being modified. </p> 
  <p> In order to properly enforce authorization on a server that allows the patch operation, a rule may be added that allows all patch requests, as shown below. </p> 
  <p> This should be combined with server support for <a class="externalLink" href="http://hapifhir.io/doc_rest_server_security.html#Authorizing_Sub-Operations">Authorizing Sub-Operations</a> as shown above. </p> 
  <div class="source"> 
   <pre>		new AuthorizationInterceptor(PolicyEnum.DENY) {
			@Override
			public List&lt;IAuthRule&gt; buildRuleList(RequestDetails theRequestDetails) {
				return new RuleBuilder()
					// Authorize patch requests
					.allow().patch().allRequests().andThen()
					// Authorize actual writes that patch may perform
					.allow().write().allResources().inCompartment(&quot;Patient&quot;, new IdType(&quot;Patient/123&quot;)).andThen()
					.build();
			}
		};
</pre> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="Authorizing_Multitenant_Servers">Authorizing Multitenant Servers</h3> 
  <p> The AuthorizationInterceptor has the ability to direct individual rules as only applying to a single tenant in a multitenant server. The following example shows such a rule. </p> 
  <div class="source"> 
   <pre>		new AuthorizationInterceptor(PolicyEnum.DENY) {
			@Override
			public List&lt;IAuthRule&gt; buildRuleList(RequestDetails theRequestDetails) {
				return new RuleBuilder()
					.allow().read().resourcesOfType(Patient.class).withAnyId().forTenantIds(&quot;TENANTA&quot;).andThen()
					.build();
			}
		};
</pre> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#Server_Security" title="Server Security">Server Security <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Authentication_vs_Authorization" title="Authentication vs Authorization">Authentication vs Authorization</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Authentication_Interceptors" title="Authentication Interceptors">Authentication Interceptors <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#HTTP_Basic_Auth" title="HTTP Basic Auth">HTTP Basic Auth</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li class="dropdown"><a href="#Authorization_Interceptor" title="Authorization Interceptor">Authorization Interceptor <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Using_AuthorizationInterceptor_in_a_REST_Server" title="Using AuthorizationInterceptor in a REST Server">Using AuthorizationInterceptor in a REST Server</a>
		<li><a href="#Authorizing_Read_Operations" title="Authorizing Read Operations">Authorizing Read Operations</a>
		<li><a href="#Authorizing_Write_Operations" title="Authorizing Write Operations">Authorizing Write Operations</a>
		<li><a href="#Authorizing_Sub-Operations" title="Authorizing Sub-Operations">Authorizing Sub-Operations</a>
		<li><a href="#Authorizing_Patch_Operations" title="Authorizing Patch Operations">Authorizing Patch Operations</a>
		<li><a href="#Authorizing_Multitenant_Servers" title="Authorizing Multitenant Servers">Authorizing Multitenant Servers</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">HAPI FHIR</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a>
						</li>
						<li >
							<a href="changes-report.html" title="Changelog">Changelog</a>
						</li>
						<li >
							<a href="license.html" title="License">License</a>
						</li>
						<li class="nav-header">Test Server</li>
						<li >
							<a href="http://hapi.fhir.org" title="Public Test Server" class="externalLink">Public Test Server</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Using HAPI</li>
						<li >
							<a href="docindex.html" title="Documentation Index">Documentation Index</a>
						</li>
						<li >
							<a href="doc_cli.html" title="Command Line Tool (cli)">Command Line Tool (cli)</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="hacking_hapi_fhir.html" title="Guide to Hacking HAPI">Guide to Hacking HAPI</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">JavaDocs</li>
						<li >
							<a href="apidocs/index.html" title="Core API">Core API</a>
						</li>
						<li >
							<a href="apidocs-dstu/index.html" title="Model API (DSTU1)">Model API (DSTU1)</a>
						</li>
						<li >
							<a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a>
						</li>
						<li >
							<a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a>
						</li>
						<li >
							<a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a>
						</li>
						<li class="nav-header">JXR</li>
						<li >
							<a href="xref-base/index.html" title="Core">Core</a>
						</li>
						<li >
							<a href="xref-jpaserver/index.html" title="JPA Server">JPA Server</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Get Help</li>
						<li >
							<a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" title="How to Ask for Help (read this first!)" class="externalLink">How to Ask for Help (read this first!)</a>
						</li>
						<li >
							<a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a>
						</li>
						<li >
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a>
						</li>
						<li >
							<a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a>
						</li>
						<li >
							<a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>HAPI FHIR is a Java implementation of the HL7 FHIR
				(Fast Healthcare Interoperable Resources) specification.
				This project is open source (licensed under the Apache Software
				License 2.0) and 100% free to use.<br/><br/>
				<a href="https://github.com/jamesagnew/hapi-fhir"><img src="./images/github-logo-mini.png" alt="Hosted on GitHub" border="0"/></a>
				<br/>
				Star us and we will love you!<br />
				<iframe src="https://ghbtns.com/github-btn.html?user=jamesagnew&repo=hapi-fhir&type=star&count=true" frameborder="0" scrolling="0" width="100px" height="20px"></iframe></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014-2018 <a href="http://www.uhn.ca">University Health Network</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>

	<script src="./js/reflow-skin.js"></script>

	<script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/^\s*\&lt\;/)) {
				pre.className = 'brush: xml';
			} else if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1395874-5', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
                </body >
</html>